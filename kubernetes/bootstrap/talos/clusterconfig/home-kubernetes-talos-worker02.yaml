version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: 6ksn8a.cid1unaz8prhgbxf
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQakNCOGFBREFnRUNBaEFTYzRxUU5ONVppcGcvQlBtY0R6b05NQVVHQXl0bGNEQVFNUTR3REFZRFZRUUsKRXdWMFlXeHZjekFlRncweU5EQTNNakF3TmpNNE16TmFGdzB6TkRBM01UZ3dOak00TXpOYU1CQXhEakFNQmdOVgpCQW9UQlhSaGJHOXpNQ293QlFZREsyVndBeUVBREZrQkJzRE9kN1UvMmN5VHlORnplZVg5ZUd0SnNITDdrSHQxClcwLyt5akdqWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUkKS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVTnRvTWRjSTNWbit2Y2NQUwo3NkJORFJoMnR5Z3dCUVlESzJWd0EwRUFEWll0S1pNRVdDOGxWRzFkU0lZVXBVeXN3Wld3NUQ3TUhxenJHQUY4ClVnS2haczMxbWFWWHZIODBxeXV2eHFtU2ZOVVc5eFB3UXhMb2tFSHQrbmFqQXc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0KTUM0Q0FRQXdCUVlESzJWd0JDSUVJS3NqQ0hoZVBRd2lDN0dqWnFrNjRWNUdpejBDVzByek1UZFl4S2dNMzdrSwotLS0tLUVORCBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0K
  certSANs:
    - 192.168.0.17
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.30.3
    extraArgs:
      rotate-server-certificates: "true"
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.0.140/25
    disableManifestsDirectory: true
  network:
    hostname: talos-worker02
    interfaces:
      - deviceSelector:
          hardwareAddr: bc:24:11:32:5b:12
        addresses:
          - 192.168.0.223/25
        routes:
          - network: 0.0.0.0/0
            gateway: 192.168.0.1
        dhcp: false
        vip:
          ip: 192.168.0.17
    disableSearchDomain: true
  install:
    disk: /dev/sda
    image: factory.talos.dev/installer/376567988ad370138ad8b2698212367b8edcb69b5fd68c80be1f2ec7d603b4ba:v1.7.5
    wipe: false
  files:
    - content: |-
        [plugins."io.containerd.grpc.v1.cri"]
          enable_unprivileged_ports = true
          enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
      permissions: 0o0
      path: /etc/cri/conf.d/20-customization.part
      op: create
  sysctls:
    fs.inotify.max_queued_events: "65536"
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "524288"
    net.core.rmem_max: "2500000"
    net.core.wmem_max: "2500000"
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - system-upgrade
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: true
      resolveMemberNames: true
cluster:
  id: tNZOTgjLg3UrzS5hvzaoS-n0E6L3cFOK48xgB_53OxE=
  secret: O7iS298vPNJsfKyelvK5gwdRN0XO8O7KvxRC1d/kzxY=
  controlPlane:
    endpoint: https://192.168.0.17:6443
  clusterName: home-kubernetes
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  token: 3iphq7.b6mqiidj1q69wdjq
  secretboxEncryptionSecret: 9/v7hkbdvDRJ3Rp7+jt7GPhN47WgJC47uO/zoglwi+c=
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpekNDQVRDZ0F3SUJBZ0lSQUpDRmJ3YTlnQWdMa3NVMTFMY3dvQ2N3Q2dZSUtvWkl6ajBFQXdJd0ZURVQKTUJFR0ExVUVDaE1LYTNWaVpYSnVaWFJsY3pBZUZ3MHlOREEzTWpBd05qTTRNekJhRncwek5EQTNNVGd3TmpNNApNekJhTUJVeEV6QVJCZ05WQkFvVENtdDFZbVZ5Ym1WMFpYTXdXVEFUQmdjcWhrak9QUUlCQmdncWhrak9QUU1CCkJ3TkNBQVR5bW9RaXFXQ2tPa1d4dzVqSWFmUi82OW5DZjhJYURZbHFybHNYQjlSYldlUGsvR0IxSmFxTDd4eEgKeHlYcW5seEJ4aXJWQTRvRmI4ODhHblRONTI2Ym8yRXdYekFPQmdOVkhROEJBZjhFQkFNQ0FvUXdIUVlEVlIwbApCQll3RkFZSUt3WUJCUVVIQXdFR0NDc0dBUVVGQndNQ01BOEdBMVVkRXdFQi93UUZNQU1CQWY4d0hRWURWUjBPCkJCWUVGQzNwQ1NacWU2b1lLV2NONitYNjZLQnRwc2dOTUFvR0NDcUdTTTQ5QkFNQ0Ewa0FNRVlDSVFETm5YeEgKUGxoRkxHQXpLUllTQUhQakRLVkk2bXJhZUxxaC8rSUR4VjBSZ3dJaEFJeldBS1lzV2xBMWlDOElxRUo2Qy9GUAplcGdPVXgzeUhKSC9YdzhxKzBvdAotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUxEUXF2K2p3WnNydG5GUjZEOXdKNHRMNkI5K1NaUmc4elFKeXFTTjVVSEVvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFOHBxRUlxbGdwRHBGc2NPWXlHbjBmK3Zad24vQ0dnMkphcTViRndmVVcxbmo1UHhnZFNXcQppKzhjUjhjbDZwNWNRY1lxMVFPS0JXL1BQQnAwemVkdW13PT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  aggregatorCA:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJYekNDQVFXZ0F3SUJBZ0lRUy82MDhheWhEK0RPNk9Hck9POWtnREFLQmdncWhrak9QUVFEQWpBQU1CNFgKRFRJME1EY3lNREEyTXpnek1Gb1hEVE0wTURjeE9EQTJNemd6TUZvd0FEQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxRwpTTTQ5QXdFSEEwSUFCTU91djVLQnZFSWxLMHpVL2pJWC9DSWRuWUtnd3RvQkRRQnJydHR0YUUwVm53NWJkajg2CkQ2R1lGaExiSWlBOEhLWU1Bbk1YNlJlalB4Q0pvVmVvTmFpallUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWQKQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZApCZ05WSFE0RUZnUVVOUVMrdU5HRThZdlJ0bHhjOFlGZjJjYXphMUl3Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUlnCkt5eVpzYnpMYTYxUGlSTUpNSVlBSVd2YjRVd1RnSlJCbW9LTitkMTVoQmNDSVFDbFRSanI1ZUluVzhYWkoxbXkKK3dtUTlmR3B4c0hoYml5azJiaDNMUml3S2c9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUNSUG1iQ250YWpNODZZZTU5b3E0bDRzY2hpM0dRS0pwWWMwT1MreE5wZ3RvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFdzY2L2tvRzhRaVVyVE5UK01oZjhJaDJkZ3FEQzJnRU5BR3V1MjIxb1RSV2ZEbHQyUHpvUApvWmdXRXRzaUlEd2NwZ3dDY3hmcEY2TS9FSW1oVjZnMXFBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  serviceAccount:
    key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS0FJQkFBS0NBZ0VBNXFXdXc2TmFoRG9nMHBxWnZLelhHZjFCREFrVkRiaG0veXhUTlRTcjRJTzI4MnZaCllGdEswaUVtNlZyUnZWQzNkekxqU0NZMUpTUUQ3MVQwMmtvOEZ3SjZqRTdUZy9aRGJGWXVYMVlRM00rNXBrR2wKZEZDcjhhTElQYyt2OUVHV2JsK2UyZEJrSFI2SHh4aW5IZHVvRkxoWHNUMFZGd1dWZXV4ejVxSDJnN2hXNm5RRAplQk96RHJvS1FrQUJEbUZyb1hadUE0emFEajdNUGdzWFIzY0tacTBhT3ZhQ3ZpWnhGVGJqNUVKaHIvNTBFeVZYCmpQUFNEcHJ1MGtVSXVhLzVlTGFTWXFpMk1tV0thTTZoaGJlSk00eGYvVk1hVk5UeGJ0SzZEU2tWUkdLMzF5SUUKZzZNTS83UFZ6UWQvSmFMVlJ3ZGxMREZ3ekszTW55S1pqdmJVcHgrS2c1STB6ank1NTdSeVFCTERaTGM2dGNqTAo4TEJ2eVoyM1FrbHdhV0pNQ2RFaUtmOTNPYWdGY3hQeDZQUEJXZGZES1JaTGhpNGIwZ1RHVEZlNzJ1OUh2cUVhCjBLK1NHNmI0anUzbXpLQVUyV2FLOFBJK2lqR3d1d3lrZUZ3TVRDRnlPZ0x0bFZTZFdhd1NTVjhBSlp2VUNDR3QKQW5BaVhKNmpqMWJmeThVTzBudW5aYmtDcHZYSTVTSFhJWkNkSWZCd2NTd2sxWmJqQ1BvNWdmbS9CUnF0R3FQSQptKzlYdGFnN2tuMnpVZmI3cUovWWFvSzc5dVJjMnZlQ3VXdEtZbGJzS3lxWExBMjg5eklLcTh1dk9pcjR1d2swCnRMQ0F5K1lFbmk2ZytZQXpFN2lVeGRBZEV6VXBEcGEyMTV2SmRUZ2FXWlBZQ3IvSGRqcjFJRCs0bXJFQ0F3RUEKQVFLQ0FnQldwSWk1TDJVeVpNK3RyYXZ3NTVES1Q0dWU1TTZHMysyNUQ4S1dLeG9oOWZqRkNvK1hGZFJPaVd1ZgpuNkZJbDhqRHUxY0w1R1owZEVvU0h2ejMvNGtCTDhvdmFQRW1FbDJUbGZCSG1nSXRvTTdodUtsWnYzQklEbGxnCmR1Tm5RemdxY0RzeElZcHFNZXpaaXRaRWJoNSs0aHozRkxZV2R0K0hWTW5aS3FCN0xNVmh2NEVLRzRSWkZPUUQKclIxNGRIcEZKa0wvakdyaGpRK1dndjRVdDVBdHIvczVpUjdtSlhTM2ZtNHZjZ3hXVzZUcENFOFNRUWw0dVJUYgo0bGo3d0RKYitXR1dORUIxUUJXMWQySFA1SGxpNXVtc05RcWdNWG9jb29hSHFSWTNJVXBrUTRBa254eWo5YjlzCkROUGpwSDZ2OXdRM2pMOE45SC80aTd2WnE3bUg4OGV0V29uN1h3NXNkbWFJektIR0ZySG9IOW9DZSs1eHN3d2UKMk1ZMmdMRE5CN3JWTlpWaWUyVnRyVWhHVm1CKzc0OTZpSnV6eGVOdWlXeU16V2Q3Ry9xN0VMaTVidlg1VjZwNApVVTBNZE5jQWRVVm5kQUdyeHR6elE1ZDB5YkpCcVE1KzBrM2F2NmhWTXUzSFhCenJGV2tMdVVTRzlOVERNZ0poClNSd29jTVFuTjZXK1ZoSURtZ0xzUVRWaTYzaVQ1SklDK2dLQUQ5eFowRUwxeTlLUnM4QlpvalBxVldzTCtTa2wKVldHZ0k5UXBKL3J0R25tbFJ0b2R3TmV6VkhMVHY2YW0wRkE5OC8rdEdwaXFxck1yblVobWR3MFh3b3lkU3FkRApQOVRZOWdha1RJeC9BMlJYWjE2bVdmU1lXMGdFTDhXcXIrVlErakQyMmZDQlFFOGJ3UUtDQVFFQTl3Tlg1bnFpCmVyVE0rYXpIODFkODhmbFR5bU9qbzNvWHB1WFJQWUtxckRCVHI1WktjZk5DU2Q1S2VxY0YxOFlsLzNFYzNGN0sKRlhLTUp0S0U5cDNQdWRaaWdoV09uVkRYamlpNWdQN2gyTTUyQ25vejZGSTlNV2ZHMmh3UzZMc1ltVTFWbzlZagpnNGtjZjdQaHlwM1VDSXFoZ2dxMG9Jb1RZaEVhZDEwUXZvcW9HUFNiRWRLbk8rcTg3TnBkYVVzaXU5UXg3aWVRCk5jT1VZSDFvYXFUcXIyN1lwbjNMME9FNFhiWXAveWh4MCtPaXlTMzl4TTd3cTIxYkl6c2dvWHprd0JQNVlYNmUKcTBrWkhIckZ1QXNVZVAyL1JkNHBRalZmaWgvOEFoTzM1WDIzQk5pdjZVT2VuY0d0RHlkYW1DajQ3VnJQZ3ZJaApnYXc3ektOUjUrUXN5UUtDQVFFQTd3bm93Uit4TU5GYk1RaUJrQlUvVk1rYkJDMWI0ODJuak5hNW9RZ2lKeWhECjYwbmY4WkE4WFNxQmtqWXdEOFp5cEFzR2RFZE5MaG5LVmF0QjdRUDFoZTI4U3J6blpsL1ZtSm5EQmNKNWg2R3MKVi9ydmlqVXM3K094TnhjWjJoc0sxdDZNTkhOb2UrVFlIa1RIbnZ6VDJBK1ZmeUxib2NnNUJ4dUpXbDB2dFI4SwpaRG8yQ2tBR3dWRnIzbFNKMUgzRlMzenIwS0pRbUhnN0NlSjROL0xWUnJFb0tnMU02RmhodTZVV1VmR2d1UFFZCm96UHNRN3hzcHcvS2F2cmlzRTNUbEdMbEZqWGM0TjdsM3E1dENPRm13UGJtUThPSWMwQTBlWXMxSjh4MTJQcUgKaFdGbEJsKzQvdDQ2WDN3L2Q0WSt6RENlTVF6VmV2QWk4OEpyWktXNnFRS0NBUUVBMCtkOFd1N053SEttZlhKcQpQaW5KdUZQcU8rL3FpKzNMcUpQelFzOTcxeWZHUXhXdFc4QVNHQWlvNER1MDJYelZVQ1FiWERtOUoxVVRRcUxMCkNqNHIzQU04a3RnbmRuSEoyZHk1OXgyeFppc0lQTWpGQ3dLeUdGWXMweVBPWFBWVWp2ODIvc3hQdnlHNjN4clUKRXR2KzhDenRqUC9lSVBNUzJjaE9haVBlbjNlWDZZQytIellWM1dMdEhFdmdZdG5nUEQ0M2IxVmxjNW9MQ2hQTApwZUZBcTZ0dUZMWktTVEZOQjZla3M0NWd5Q082bk5mbG9oYmRoRkxXSW8wdzJ4aW5yTmYxMGx1cmhzbTR6eVBMCnhxMUtyTmtTWTcvSXFWSGNXa1JDRHc0WGJyckFiVm51M3kveFBPalBxL1pZMDd3aWdJeXRCR3J2cjZ5dnlFZzcKbGJHN2NRS0NBUUJZR3pMclhCOFhlMU05YzRFdDltYnRmV0t6MjNRdk56STJ1ejZZbUVMZVkvMEUwS24yZzg5OApGNXJDcGE1NVloQUhYdmoyQ3dIcnFCM29EY095OU82ZWVzNFlUaUNNbjI0L1hRMkJKZmxkZ0wzaGYrQ2k5STZuCnJTazR3UThLVVVWaGhZM3dGMG0vd00zWCtrb0owKzdSaUl6MTI0ZFF6bGdXd3BPUjl4OEtoM0p4RnZPc080VkIKNUJ6NlNmYXpsOWdNeHZLMFo5K0ZFMnZQYk9ZYTJTcTdiN2o2SndUZDd4VzI4RmFWeFpZVUZnU3V3d2ltdnVEZApndmg5RGhSWUg1ZUk3aHE2WVFnVTZwT1h6SHJyOXdqRXZ6eUlaWjM1dlFTYWVERVRoazA1dUw0Uzc1OHBCa2ROCnllT0NKbTNPUkhFSkdqSjBxZUpWK2dVb0M5VkJ0OFJoQW9JQkFEcUtXRnBPTmJWV2VvZkpwcVlpWEw2c3RQVEsKeUx5OWl6SjUrUDZMbjZTNkdhUEo5Y3NLcUxzekV1ZTk2cU4vVDlWR3BURGNZOVVrYmluK2JES3I3dUkzUlFYdgplT0E1SDhWMnFqUTViVXFBRkgrY1QvMHE5UGZ5RnRCUWpXMTlVT1ppWHlQSWlMSk5xMkFLVTFod0U2SUlzdndOCk5EcVhsbmFIM2RXZ0FKSEF1T0tTVi85SmtwTGpEMzBOSHM0cVZ4aWJ0NGN2eFBKejloemlGamJHdkZIYnhndC8KVm9uQ1JlNDU2OGZHS1NjU1VwK0UrSEtITlZnbm9oSVdUdUZZTGhXNXFtbVh3eUdldnJWRmhzbEltZnhTT2hvMAppcXp4dkkrSWFITjk2LzVYN1N2ekJOWDY0em1xcTlKc1d6ZmQyNjM1blVoSzN1a2k4bnZiSXFWeVBUVT0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K
  apiServer:
    image: registry.k8s.io/kube-apiserver:v1.30.3
    certSANs:
      - 192.168.0.17
      - 192.168.0.17
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:v1.30.3
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:v1.30.3
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.31.1
    extraArgs:
      bind-address: 0.0.0.0
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: false
  etcd:
    ca:
      crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmakNDQVNTZ0F3SUJBZ0lSQU0zbldnd0NrazRaRzBjV1c4OVZKWWt3Q2dZSUtvWkl6ajBFQXdJd0R6RU4KTUFzR0ExVUVDaE1FWlhSalpEQWVGdzB5TkRBM01qQXdOak00TXpCYUZ3MHpOREEzTVRnd05qTTRNekJhTUE4eApEVEFMQmdOVkJBb1RCR1YwWTJRd1dUQVRCZ2NxaGtqT1BRSUJCZ2dxaGtqT1BRTUJCd05DQUFTVlVqdTVtS0IzClliODQra0w0RmlTcGR5VmVtMDArWkNJR1Q3Mlc0QTFoNCtZSUkxZGJaV0ozZTNycDgxU053blpFVWhTV3NJdUIKcWlUdFZCS01MejVLbzJFd1h6QU9CZ05WSFE4QkFmOEVCQU1DQW9Rd0hRWURWUjBsQkJZd0ZBWUlLd1lCQlFVSApBd0VHQ0NzR0FRVUZCd01DTUE4R0ExVWRFd0VCL3dRRk1BTUJBZjh3SFFZRFZSME9CQllFRk8zNnYxb04zQzFOCmVaeCtVZGlWY1ZEcCtjc1lNQW9HQ0NxR1NNNDlCQU1DQTBnQU1FVUNJSGxIL0QwUDBLaU9VQ1drK0ZjcVpsQlgKYno5SEwzVWtTOXpvOGdFRUhVNHZBaUVBdjF3ZmE3ekU3NTVHOWY3NEY0ZDc0a08rTGdFdndRVmNRNXgxc0dtcApCL3c9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
      key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUtvbTZiNWJERjgxY3cwVVZrZlZDb05yOFd4aDl1SDd2QmtHMGkyTWs0MzVvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFbFZJN3VaaWdkMkcvT1BwQytCWWtxWGNsWHB0TlBtUWlCays5bHVBTlllUG1DQ05YVzJWaQpkM3Q2NmZOVWpjSjJSRklVbHJDTGdhb2s3VlFTakM4K1NnPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.0.140/25
  coreDNS:
    disabled: true
  allowSchedulingOnControlPlanes: true
